<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Integerized Sinusoidal Binning Scheme for Level 3 Data • L3bin</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Integerized Sinusoidal Binning Scheme for Level 3 Data">
<meta name="description" content="The NASA Ocean Biology processing Group L3 bin scheme, based on the sinusoidal map projection. Psuedo code for the binning scheme was published in Appendix A of NASA Technical Memorandum 104566, Vol. 32., listed in URL.">
<meta property="og:description" content="The NASA Ocean Biology processing Group L3 bin scheme, based on the sinusoidal map projection. Psuedo code for the binning scheme was published in Appendix A of NASA Technical Memorandum 104566, Vol. 32., listed in URL.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">L3bin</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/hypertidy/L3bin/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="l3bin">L3bin<a class="anchor" aria-label="anchor" href="#l3bin"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of L3bin is to provide the <a href="https://oceancolor.gsfc.nasa.gov/resources/docs/format/l3bins/" class="external-link">Integerized Sinusoidal Binning Scheme</a> used by NASA’s Ocean Biology processing Group for Level 3 data.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of L3bin from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"hypertidy/L3bin"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows how to create a very low resolution L3 bin scheme, plot it and perform some queries.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://oceancolor.gsfc.nasa.gov/docs/format/l3bins/" class="external-link">L3bin</a></span><span class="op">)</span></span>
<span><span class="co">## basic example code</span></span>
<span><span class="va">nr</span> <span class="op">&lt;-</span> <span class="fl">6</span></span>
<span><span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/L3bin.html">L3bin</a></span><span class="op">(</span><span class="va">nr</span><span class="op">)</span></span>
<span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extent_from_bin.html">extent_from_bin</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">bins</span><span class="op">$</span><span class="va">totbins</span>, <span class="va">nr</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"n"</span>, asp <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html" class="external-link">rect</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>, <span class="fl">4</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="fu"><a href="reference/lonlat_from_bin.html">lonlat_from_bin</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">bins</span><span class="op">$</span><span class="va">totbins</span>, NUMROWS <span class="op">=</span> <span class="va">nr</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
<p>Now we increas the resolution and use the available froms to crop, obtain bin boundaries, and provide the centre point of the bin from its index.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nr</span> <span class="op">&lt;-</span> <span class="fl">12</span></span>
<span><span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/L3bin.html">L3bin</a></span><span class="op">(</span><span class="va">nr</span><span class="op">)</span></span>
<span><span class="va">lbins</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/crop_bins.html">crop_bins</a></span><span class="op">(</span><span class="va">bins</span>, extent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">20</span>, <span class="fl">30</span>, <span class="op">-</span><span class="fl">60</span>, <span class="op">-</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extent_from_bin.html">extent_from_bin</a></span><span class="op">(</span><span class="va">lbins</span>, <span class="va">nr</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"n"</span>, asp <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html" class="external-link">rect</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>, <span class="fl">4</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="fu"><a href="reference/lonlat_from_bin.html">lonlat_from_bin</a></span><span class="op">(</span><span class="va">lbins</span>,  NUMROWS <span class="op">=</span> <span class="va">nr</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-twelve-1.png" width="100%"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extent_from_bin.html">extent_from_bin</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">bins</span><span class="op">$</span><span class="va">totbins</span>, <span class="va">nr</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"n"</span>, asp <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html" class="external-link">rect</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>, <span class="fl">4</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="fu"><a href="reference/lonlat_from_bin.html">lonlat_from_bin</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">bins</span><span class="op">$</span><span class="va">totbins</span>,  NUMROWS <span class="op">=</span> <span class="va">nr</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-twelve-2.png" width="100%"></p>
<p>It should be clear that while we can easily up the detail and obtain very large numbers of bins, it’s much smarter to keep things lazy and not materialize the actual bin numbers, boundary extents, or centre points. It very quickly can become unwieldly. For example, the base resolution of SeaWiFS L3 bins in 1998 was a NUMROWS of 2160, which means a lot of unnecessary storage. Much better to avoid that when the functions provide the capability we need without generating the grid explicitly.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">nbins_2160</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/L3bin.html">L3bin</a></span><span class="op">(</span><span class="fl">2160</span><span class="op">)</span><span class="op">$</span><span class="va">totbins</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5940422</span></span>
<span></span>
<span><span class="co">## this would be nearly 25Mb just to list the bin index</span></span>
<span><span class="va">nbins_2160</span> <span class="op">*</span> <span class="fl">4</span> <span class="op">/</span> <span class="fl">1e6</span></span>
<span><span class="co">#&gt; [1] 23.76169</span></span>
<span></span>
<span><span class="co">## 190Mb to store the bin boundaries</span></span>
<span><span class="va">nbins_2160</span> <span class="op">*</span> <span class="fl">4</span> <span class="op">*</span> <span class="fl">8</span><span class="op">/</span> <span class="fl">1e6</span></span>
<span><span class="co">#&gt; [1] 190.0935</span></span>
<span></span>
<span><span class="co">## another 50Mb just for the centre coordinates</span></span>
<span><span class="va">nbins_2160</span> <span class="op">*</span> <span class="fl">8</span> <span class="op">/</span> <span class="fl">1e6</span></span>
<span><span class="co">#&gt; [1] 47.52338</span></span></code></pre></div>
<p>A grid with 2160 rows represents approximately 9.28km^2 in bin area, and we may have much higher resolution that that for modern tasks. L3bin provides a simple core for this binning scheme.</p>
<div class="section level3">
<h3 id="warning">Warning<a class="anchor" aria-label="anchor" href="#warning"></a>
</h3>
<p>The bin number is currently stored as an integer, so beyond ~41000 ) rows this will overflow and we’d need to use a larger type to store it. Let us know if you need this, or encounter problems. 41000 rows is near a 500m bin size, which is the resolution of GEBCO 2021 for example.</p>
<p>Get lonlat from bin and vice versa.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html" class="external-link">rect</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, <span class="va">ex</span><span class="op">[</span>, <span class="fl">4</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fu"><a href="reference/lonlat_from_bin.html">lonlat_from_bin</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">bins</span><span class="op">$</span><span class="va">totbins</span>, <span class="va">nr</span><span class="op">)</span>, lab <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">bins</span><span class="op">$</span><span class="va">totbins</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span>v <span class="op">=</span> <span class="fl">147</span>, h <span class="op">=</span> <span class="op">-</span><span class="fl">42</span>, col <span class="op">=</span> <span class="st">"firebrick"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-bin-1.png" width="100%"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="reference/bin_from_lonlat.html">bin_from_lonlat</a></span><span class="op">(</span><span class="fl">147</span>, <span class="op">-</span><span class="fl">42</span>, <span class="va">nr</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 45</span></span></code></pre></div>
<p>Using the crop from above, reproject after densifying (safely) with sf</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nr</span> <span class="op">&lt;-</span> <span class="fl">96</span></span>
<span><span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/L3bin.html">L3bin</a></span><span class="op">(</span><span class="va">nr</span><span class="op">)</span></span>
<span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extent_from_bin.html">extent_from_bin</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">bins</span><span class="op">$</span><span class="va">totbins</span>, <span class="va">nr</span><span class="op">)</span></span>
<span><span class="va">lbins</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/crop_bins.html">crop_bins</a></span><span class="op">(</span><span class="va">bins</span>, extent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">180</span>, <span class="op">-</span><span class="fl">90</span>, <span class="op">-</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/extent_from_bin.html">extent_from_bin</a></span><span class="op">(</span><span class="va">lbins</span>, <span class="va">nr</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## generally sf a bad idea because 4 numbers xmin,xmax,ymin,ymax become 10</span></span>
<span><span class="co">## and we could use mesh3d or similar from silicate (SC0), but here's an example</span></span>
<span><span class="co">## just to show a projected set of the bins</span></span>
<span><span class="va">to_sf</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">ex</span>, <span class="va">crs</span> <span class="op">=</span> <span class="st">"OGC:CRS84"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span>, </span>
<span>           <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="va">proto</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu">st_polygon</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu">st_sfc</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">ex</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">ex</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">4L</span><span class="op">)</span><span class="op">)</span>, </span>
<span>         <span class="kw">function</span><span class="op">(</span><span class="va">.x</span><span class="op">)</span> <span class="op">{</span></span>
<span>           <span class="va">proto</span><span class="op">[[</span><span class="fl">1L</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">.x</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span></span>
<span>           <span class="va">proto</span></span>
<span>         <span class="op">}</span><span class="op">)</span>, crs <span class="op">=</span> <span class="va">crs</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">sf</span><span class="fu">::</span><span class="fu">sf_use_s2</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Spherical geometry (s2) switched off</span></span>
<span><span class="va">segit</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">dx</span> <span class="op">=</span> <span class="fl">111111</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">crs</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu">st_crs</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu">st_set_crs</span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu">st_segmentize</span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu">st_set_crs</span><span class="op">(</span><span class="va">x</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="va">dx</span><span class="op">)</span>, <span class="va">crs</span><span class="op">)</span></span>
<span><span class="op">}</span>  </span>
<span><span class="va">prj</span> <span class="op">&lt;-</span> <span class="st">"+proj=laea +lat_0=-80"</span></span>
<span><span class="co">## dx is 1 degree in straightforward sense</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu">st_transform</span><span class="op">(</span><span class="fu">segit</span><span class="op">(</span><span class="fu">to_sf</span><span class="op">(</span><span class="va">ex</span><span class="op">)</span>, <span class="fl">11111</span><span class="op">)</span>, <span class="va">prj</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mm</span> <span class="op">&lt;-</span> <span class="fu">reproj</span><span class="fu">::</span><span class="fu">reproj</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">cbind</span>, <span class="fu">maps</span><span class="fu">::</span><span class="fu">map</span><span class="op">(</span>plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>, <span class="va">prj</span>, source <span class="op">=</span> <span class="st">"+proj=longlat"</span><span class="op">)</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">mm</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-reproj-1.png" width="100%"></p>
</div>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the L3bin project is released with a <a href="https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/hypertidy/L3bin/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/hypertidy/L3bin/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing L3bin</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Michael D. Sumner <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/hypertidy/L3bin/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/hypertidy/L3bin/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael D. Sumner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
